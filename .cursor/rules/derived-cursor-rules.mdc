---
description: AI rules derived by SpecStory from the project AI interaction history
globs: *
---

## HEADERS

## TECH STACK

## PROJECT DOCUMENTATION & CONTEXT SYSTEM

## CODING STANDARDS

### General

*   Avoid unnecessary use of `fmt.Sprintf`. Use direct string concatenation instead for better performance.

### Go Specific

*   When dealing with IPv6 addresses in `net.Dial`, ensure they are enclosed in square brackets: `[%s]:%d`. IPv4 addresses should use the standard `%s:%d` format.
*   Avoid using the deprecated `rand.Seed` function. As of Go 1.20, use `rand.New(rand.NewSource(time.Now().UnixNano()))` to create a local random generator. When creating random strings, pass this random generator to the function.

## DEBUGGING

## TESTING

## WORKFLOW & RELEASE RULES

*   After a `RecoverableError`, the library will attempt a reconnect, now with a default limit of 3 attempts.
    *   This can be configured via `Connection.MaxRecoverableReconnects` (default 3; 0 = no limit).

```go
conn.MaxRecoverableReconnects = 0   // no limit (old behavior)
conn.MaxRecoverableReconnects = 3   // e.g., exactly 3 attempts
```

*   If you are managing your own reconnects and wish to disable the library's automatic attempts:

```go
conn.HandleErrorAsDisconnect = false
```